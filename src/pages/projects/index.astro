---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects")).sort(
	(a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
---

<Layout title="Projects | VirtualSach.in">
	<main class="container mx-auto px-6 py-20">
		<header class="mb-20 text-center relative">
			<!-- Visual flair for header -->
			<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-blue-500/10 rounded-full blur-[80px] -z-10"></div>
			
			<h1 class="text-5xl md:text-7xl font-bold mb-8 leading-tight">
				Project <span class="text-gradient">Case Studies</span>
			</h1>
			<div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto mb-8 rounded-full"></div>
			<p class="text-xl md:text-2xl text-slate-300 max-w-3xl mx-auto leading-relaxed">
				<span class="font-semibold text-white">Outcomes over output.</span> Below are selected architectural challenges where I successfully bridged the gap between legacy infrastructure and modern cloud velocity.
			</p>
		</header>

		<div class="grid md:grid-cols-2 gap-10">
			{
				projects.map((project) => (
					<a
						href={`/projects/${project.slug}`}
						class="glass-card p-10 flex flex-col group hover:border-blue-500/40 hover:bg-white/[0.07] transition-all duration-300 hover:-translate-y-2 relative overflow-hidden"
					>
						<!-- Decoration -->
						<div class="absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-[50px] group-hover:bg-blue-500/20 transition-colors -z-10"></div>

						<div class="mb-6">
							<div class="flex flex-wrap gap-2 mb-4">
								{project.data.tags?.slice(0, 3).map((tag) => (
									<span class="text-xs font-mono font-medium px-3 py-1 rounded-full border border-blue-500/20 bg-blue-500/10 text-blue-300 uppercase tracking-wider">
										{tag}
									</span>
								))}
								{project.data.tags && project.data.tags.length > 3 && (
									<span class="text-xs font-mono px-2 py-1 text-slate-500">+{project.data.tags.length - 3}</span>
								)}
							</div>
							
							<h2 class="text-3xl font-bold mb-4 leading-tight group-hover:text-blue-400 transition-colors">
								{project.data.title}
							</h2>
							
							<p class="text-slate-400 text-lg leading-relaxed mb-6 flex-grow">
								{project.data.summary || project.data.description}
							</p>
						</div>

						<div class="mt-auto pt-6 border-t border-white/10 flex justify-between items-center group-hover:border-blue-500/30 transition-colors">
							<span class="text-sm text-slate-500 group-hover:text-slate-300 transition-colors">
								{project.data.date.getFullYear()}
							</span>
							<span class="text-blue-400 font-semibold group-hover:translate-x-2 transition-transform flex items-center gap-2">
								Read Case Study 
								<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
									<path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
								</svg>
							</span>
						</div>
					</a>
				))
			}
		</div>
	</main>
</Layout>
