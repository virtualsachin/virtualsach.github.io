---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("insights")).sort(
	(a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
---

<Layout title="Insights | VirtualSach.in">
	<main class="container mx-auto px-6 py-12">
		<div class="container mx-auto px-6 py-20 relative">
			<h1 class="text-4xl md:text-6xl font-extrabold mb-12 text-center">
				<span class="text-gradient">Insights</span> & War Stories
			</h1>
			<p class="text-xl text-slate-400 max-w-2xl mx-auto">
				Architectural patterns, war stories, and engineering philosophy.
			</p>
			<!-- Recommended Reads -->
			<div
				class="mt-8 text-left max-w-4xl mx-auto bg-slate-800/50 border-l-4 border-cyan-500 p-6 rounded-r-lg"
			>
				<h3
					class="text-sm font-bold text-cyan-400 uppercase tracking-widest mb-4"
				>
					Recommended Reads for Interviewers
				</h3>
				<p class="text-slate-300 mb-6 italic">
					"Short on time? If you are reviewing my profile for a
					leadership role, these 3 posts define my engineering
					philosophy:"
				</p>
				<div class="grid md:grid-cols-3 gap-6">
					<a
						href="/insights/nsx-v-to-t-migration"
						class="block group"
					>
						<span
							class="block text-xs text-slate-500 uppercase mb-1"
							>Migration Strategy</span
						>
						<span
							class="font-bold text-slate-200 group-hover:text-cyan-400 transition-colors"
							>The Great Migration: Moving Production from NSX-V
							to NSX-T</span
						>
					</a>
					<a
						href="/insights/defining-network-ansible-nsxt"
						class="block group"
					>
						<span
							class="block text-xs text-slate-500 uppercase mb-1"
							>Automation Mindset</span
						>
						<span
							class="font-bold text-slate-200 group-hover:text-cyan-400 transition-colors"
							>Infrastructure as Code: Deploying the Entire
							Network with Ansible</span
						>
					</a>
					<a
						href="/insights/engineer-to-architect"
						class="block group"
					>
						<span
							class="block text-xs text-slate-500 uppercase mb-1"
							>Leadership</span
						>
						<span
							class="font-bold text-slate-200 group-hover:text-cyan-400 transition-colors"
							>From Engineer to Architect: The Mindset Shift</span
						>
					</a>
				</div>
			</div>
		</div>
		<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
			{
				posts.map((post) => (
					<article class="glass-card p-6 flex flex-col h-full hover:border-blue-500/30 transition-colors">
						<div class="text-sm text-blue-400 mb-2">
							{post.data.date.toLocaleDateString("en-US", {
								month: "short",
								day: "numeric",
								year: "numeric",
							})}
						</div>
						<h2 class="text-xl font-bold mb-3">
							<a
								href={`/insights/${post.slug}`}
								class="block text-xl font-bold mb-3 hover:text-blue-400 transition-colors"
							>
								{post.data.title}
							</a>
						</h2>
						<p class="text-slate-400 mb-4 line-clamp-3">
							{post.data.description}
						</p>
						<a
							href={`/insights/${post.slug}`}
							class="inline-block text-blue-400 hover:text-white transition-colors text-sm font-medium"
						>
							Read Article â†’
						</a>
					</article>
				))
			}
		</div>
	</main>
</Layout>
